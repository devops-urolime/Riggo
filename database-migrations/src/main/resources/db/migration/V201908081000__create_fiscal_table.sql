DROP TABLE IF EXISTS fiscal_period;
CREATE TABLE IF NOT EXISTS fiscal_period (
    id SERIAL PRIMARY KEY,
    site_id INTEGER NOT NULL,
    fiscal_year INTEGER NOT NULL,
    fiscal_quarter INTEGER NOT NULL,
    fiscal_month INTEGER NOT NULL,
    start_date TIME NOT NULL,
    end_date TIME NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    deleted TIMESTAMPTZ  DEFAULT NULL

);


CREATE  TRIGGER update_ts_fiscal_period
     BEFORE UPDATE ON fiscal_period
     FOR EACH ROW
     EXECUTE PROCEDURE set_timestamp();


INSERT INTO fiscal_period (site_id, fiscal_year, fiscal_quarter, fiscal_month, start_date, end_date)
    VALUES
	(100, 2018, 1, 1, '2018-01-01 00:00:00', '2018-01-31 23:59:59.999999'),
	(100, 2018, 1, 2, '2018-02-01 00:00:00', '2018-02-28 23:59:59.999999'),
	(100, 2018, 1, 3, '2018-03-01 00:00:00', '2018-03-31 23:59:59.999999'),
	(100, 2018, 1, 4, '2018-04-01 00:00:00', '2018-04-30 23:59:59.999999'),
	(100, 2018, 1, 5, '2018-05-01 00:00:00', '2018-05-31 23:59:59.999999'),
	(100, 2018, 1, 6, '2018-06-01 00:00:00', '2018-06-30 23:59:59.999999'),
	(100, 2018, 1, 7, '2018-07-01 00:00:00', '2018-07-31 23:59:59.999999'),
	(100, 2018, 1, 8, '2018-08-01 00:00:00', '2018-08-31 23:59:59.999999'),
	(100, 2018, 1, 9, '2018-09-01 00:00:00', '2018-09-30 23:59:59.999999'),
	(100, 2018, 1, 10, '2018-10-01 00:00:00', '2018-10-31 23:59:59.999999'),
	(100, 2018, 1, 11, '2018-11-01 00:00:00', '2018-11-30 23:59:59.999999'),
	(100, 2018, 1, 12, '2018-12-01 00:00:00', '2018-12-31 23:59:59.999999'),
	(100, 2019, 1, 1, '2019-01-01 00:00:00', '2019-01-31 23:59:59.999999'),
	(100, 2019, 1, 2, '2019-02-01 00:00:00', '2019-02-28 23:59:59.999999'),
	(100, 2019, 1, 3, '2019-03-01 00:00:00', '2019-03-31 23:59:59.999999'),
	(100, 2019, 1, 4, '2019-04-01 00:00:00', '2019-04-30 23:59:59.999999'),
	(100, 2019, 1, 5, '2019-05-01 00:00:00', '2019-05-31 23:59:59.999999'),
	(100, 2019, 1, 6, '2019-06-01 00:00:00', '2019-06-30 23:59:59.999999'),
	(100, 2019, 1, 7, '2019-07-01 00:00:00', '2019-07-31 23:59:59.999999'),
	(100, 2019, 1, 8, '2019-08-01 00:00:00', '2019-08-31 23:59:59.999999'),
	(100, 2019, 1, 9, '2019-09-01 00:00:00', '2019-09-30 23:59:59.999999'),
	(100, 2019, 1, 10, '2019-10-01 00:00:00', '2019-10-31 23:59:59.999999'),
	(100, 2019, 1, 11, '2019-11-01 00:00:00', '2019-11-30 23:59:59.999999'),
	(100, 2019, 1, 12, '2019-12-01 00:00:00', '2019-12-31 23:59:59.999999'),
	(100, 2020, 1, 1, '2020-01-01 00:00:00', '2020-01-31 23:59:59.999999'),
	(100, 2020, 1, 2, '2020-02-01 00:00:00', '2020-02-29 23:59:59.999999'),
	(100, 2020, 1, 3, '2020-03-01 00:00:00', '2020-03-31 23:59:59.999999'),
	(100, 2020, 1, 4, '2020-04-01 00:00:00', '2020-04-30 23:59:59.999999'),
	(100, 2020, 1, 5, '2020-05-01 00:00:00', '2020-05-31 23:59:59.999999'),
	(100, 2020, 1, 6, '2020-06-01 00:00:00', '2020-06-30 23:59:59.999999'),
	(100, 2020, 1, 7, '2020-07-01 00:00:00', '2020-07-31 23:59:59.999999'),
	(100, 2020, 1, 8, '2020-08-01 00:00:00', '2020-08-31 23:59:59.999999'),
	(100, 2020, 1, 9, '2020-09-01 00:00:00', '2020-09-30 23:59:59.999999'),
	(100, 2020, 1, 10, '2020-10-01 00:00:00', '2020-10-31 23:59:59.999999'),
	(100, 2020, 1, 11, '2020-11-01 00:00:00', '2020-11-30 23:59:59.999999'),
	(100, 2020, 1, 12, '2020-12-01 00:00:00', '2020-12-31 23:59:59.999999'),
	(100, 2021, 1, 1, '2021-01-01 00:00:00', '2021-01-31 23:59:59.999999'),
	(100, 2021, 1, 2, '2021-02-01 00:00:00', '2021-02-28 23:59:59.999999'),
	(100, 2021, 1, 3, '2021-03-01 00:00:00', '2021-03-31 23:59:59.999999'),
	(100, 2021, 1, 4, '2021-04-01 00:00:00', '2021-04-30 23:59:59.999999'),
	(100, 2021, 1, 5, '2021-05-01 00:00:00', '2021-05-31 23:59:59.999999'),
	(100, 2021, 1, 6, '2021-06-01 00:00:00', '2021-06-30 23:59:59.999999'),
	(100, 2021, 1, 7, '2021-07-01 00:00:00', '2021-07-31 23:59:59.999999'),
	(100, 2021, 1, 8, '2021-08-01 00:00:00', '2021-08-31 23:59:59.999999'),
	(100, 2021, 1, 9, '2021-09-01 00:00:00', '2021-09-30 23:59:59.999999'),
	(100, 2021, 1, 10, '2021-10-01 00:00:00', '2021-10-31 23:59:59.999999'),
	(100, 2021, 1, 11, '2021-11-01 00:00:00', '2021-11-30 23:59:59.999999'),
	(100, 2021, 1, 12, '2021-12-01 00:00:00', '2021-12-31 23:59:59.999999'),
	(100, 2022, 1, 1, '2022-01-01 00:00:00', '2022-01-31 23:59:59.999999'),
	(100, 2022, 1, 2, '2022-02-01 00:00:00', '2022-02-28 23:59:59.999999'),
	(100, 2022, 1, 3, '2022-03-01 00:00:00', '2022-03-31 23:59:59.999999'),
	(100, 2022, 1, 4, '2022-04-01 00:00:00', '2022-04-30 23:59:59.999999'),
	(100, 2022, 1, 5, '2022-05-01 00:00:00', '2022-05-31 23:59:59.999999'),
	(100, 2022, 1, 6, '2022-06-01 00:00:00', '2022-06-30 23:59:59.999999'),
	(100, 2022, 1, 7, '2022-07-01 00:00:00', '2022-07-31 23:59:59.999999'),
	(100, 2022, 1, 8, '2022-08-01 00:00:00', '2022-08-31 23:59:59.999999'),
	(100, 2022, 1, 9, '2022-09-01 00:00:00', '2022-09-30 23:59:59.999999'),
	(100, 2022, 1, 10, '2022-10-01 00:00:00', '2022-10-31 23:59:59.999999'),
	(100, 2022, 1, 11, '2022-11-01 00:00:00', '2022-11-30 23:59:59.999999'),
	(100, 2022, 1, 12, '2022-12-01 00:00:00', '2022-12-31 23:59:59.999999'),
	(100, 2023, 1, 1, '2023-01-01 00:00:00', '2023-01-31 23:59:59.999999'),
	(100, 2023, 1, 2, '2023-02-01 00:00:00', '2023-02-28 23:59:59.999999'),
	(100, 2023, 1, 3, '2023-03-01 00:00:00', '2023-03-31 23:59:59.999999'),
	(100, 2023, 1, 4, '2023-04-01 00:00:00', '2023-04-30 23:59:59.999999'),
	(100, 2023, 1, 5, '2023-05-01 00:00:00', '2023-05-31 23:59:59.999999'),
	(100, 2023, 1, 6, '2023-06-01 00:00:00', '2023-06-30 23:59:59.999999'),
	(100, 2023, 1, 7, '2023-07-01 00:00:00', '2023-07-31 23:59:59.999999'),
	(100, 2023, 1, 8, '2023-08-01 00:00:00', '2023-08-31 23:59:59.999999'),
	(100, 2023, 1, 9, '2023-09-01 00:00:00', '2023-09-30 23:59:59.999999'),
	(100, 2023, 1, 10, '2023-10-01 00:00:00', '2023-10-31 23:59:59.999999'),
	(100, 2023, 1, 11, '2023-11-01 00:00:00', '2023-11-30 23:59:59.999999'),
	(100, 2023, 1, 12, '2023-12-01 00:00:00', '2023-12-31 23:59:59.999999')
	;

